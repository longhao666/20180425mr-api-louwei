CMAKE_MINIMUM_REQUIRED(VERSION 2.8.0)

PROJECT(test1 C)

SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -L /lib64 -l pthread")

ADD_SUBDIRECTORY(../.. mrapi)
INCLUDE_DIRECTORIES(../../include)

FIND_PACKAGE(Threads REQUIRED)

#FIND_LIBRARY(PCAN_LIB_LIBRARY  		 NAMES pcan PATHS /usr/lib     NO_DEFAULT_PATH)  #libpcan.so
#FIND_LIBRARY(PCAN_LIB_LIBRARY		 NAMES pcanbasic PATHS /usr/lib     NO_DEFAULT_PATH)  #libpcan.so
FIND_LIBRARY(MR_LIB	 NAMES mrapi PATHS ../../lib  NO_DEFAULT_PATH)  #libpcan.so


ADD_EXECUTABLE(test1 test1.c)
TARGET_LINK_LIBRARIES(test1  ${MR_LIB})
TARGET_LINK_LIBRARIES(test1 ${CAN_DRIVER_LIB})
TARGET_LINK_LIBRARIES(test1 rt -lpthread -lm)

